{% extends 'index.html' %}
{% load static %}
{% block head %}
<title>{% block title %}Register{% endblock title %}</title>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href='{% static "bootstrap-5.0.2-dist\css\bootstrap.min.css" %}' rel="stylesheet" />

<script src='{% static "bootstrap-5.0.2-dist\js\bootstrap.bundle.min.js" %}'></script>
<script src='{% static "jquery-3.7.1.min.js" %}'></script>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>   
<style>
  body{
    background-color:#f0f2f5;
  }
</style> 
{% endblock head %}

{% block 'body' %}
{% comment %} <section class="vh-100 p-5 my-3" style="background-color: #6E7273;"> {% endcomment %}
    <div class="container  h-100" style="margin-top : 50px;">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col-12 col-md-8 col-lg-6 col-xl-5">
          <div class="card shadow-2-strong border" style="border-radius: 1rem;">
            {% if messages %}
            {% for message in messages %}
             <div class="alert alert-{{ message.tags }}" role="alert">
                {{ message }}
                <button type="button" class="btn-close float-end" data-bs-dismiss="alert" aria-label="Close"></button>
            </div>
            {% endfor %}
          {% endif %}
            <div class="card-body s-5 text-center">
              <h3 class="mb-3">REGISTER</h3>
              
             <form method="POST" action="{% url 'register' %}">
              {% csrf_token %}
              <div class="form-outline mb-2">
                <input type="email" id="" class="form-control" placeholder="Email" name="email" required/>
              </div>
  
              <div class="form-outline mb-2">
                <input type="text" id="" class="form-control" placeholder="User name" name="username" required/>
              </div>

              <div class="form-outline mb-2">
                <input type="tel" id="" class="form-control" placeholder="Phone number" name="phone_number" maxlength="13" required/>
              </div>

              <div class="form-outline mb-2">
                <textarea id="" class="form-control" placeholder="Address" name="address" required></textarea>
              </div>

              <div class="form-outline mb-2">
                <input type="password" id="" class="form-control" placeholder="Password" name="password" required/>
              </div>

              <div class="form-outline mb-2">
                <input type="password" id="" class="form-control" placeholder="Confirm password" name="confirm_password" required/>
              </div>

              <div class="form-outline mb-2">
                <select id="role" class="form-control"  name="role" required>
                  <option selected disabled>Role</option>
                  <option value="wholesaler">Wholesaler</option>
                  <option value="customer">Customer</option>
                </select>
              </div>

              <hr class="my-2">
              
              <button class="btn text-white" type="submit" style="background-color:#e91e63;">Register</button>  

              <div class="mt-3">Already have an account? <a href="{% url 'login' %}">Login</a></div>
            </form>
            </div>
          </div>
        </div>
      </div>
    </div>
  {% comment %} </section> {% endcomment %}

  <script>
    // Function to show or hide the dynamic list based on the selected role
    function toggleDynamicList() {
        var role = document.getElementById("role").value;
        var dynamicList = document.getElementById("dynamic-list");
        
        if (role === "customer") {
            dynamicList.style.display = "block";  // Show the dynamic list
        } else {
            dynamicList.style.display = "none";   // Hide the dynamic list
        }
    }

    // Add event listener to the role select field
    document.getElementById("role").addEventListener("change", toggleDynamicList);

    // Call toggleDynamicList initially to handle the initial state
    toggleDynamicList();
</script>

{% endblock %}